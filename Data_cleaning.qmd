---
title: "assignment-615-cleaning-data"
format: html
editor: visual
---

```{r}
library(tidyverse)
```

## Data Upload

```{r}
Strawberry <- read.csv("D:/R_Git/Strawberry-Assignment/1583F9B0-866A-3858-8AC9-7E9F576AEE9F.csv")
glimpse(Strawberry)

```

##Data Cleaning

```{r}
## remove columns with a single value in all rows

#|label: function def - drop 1-item columns

drop_one_value_col <- function(df){   ## takes whole dataframe

drop <- NULL  

## test each column for a single value

for(i in 1:dim(df)[2]){     

if((df |> distinct(df[,i]) |> count()) == 1){

drop = c(drop, i)

} }

## report the result -- names of columns dropped

## consider using the column content for labels 

## or headers 

if(is.null(drop)){return("none")}else{

   print("Columns dropped:")

   print(colnames(df)[drop])

   strawberry<- df[, -1*drop]

   }

}


## use the function

Strawberry_clean1 <- drop_one_value_col(Strawberry)

drop_one_value_col(Strawberry)
 
```

```{r}

Strawberry_clean1$Domain.Category<- sub(".*:", "", Strawberry_clean1$Domain.Category)
Strawberry_clean1$Data.Item<- sub(".*-", "", Strawberry_clean1$Data.Item)
Strawberry_clean1$Domain.Category <- trimws(sub(".*:", "", Strawberry_clean1$Domain.Category))
Strawberry_clean1$Data.Item <- trimws(sub(".*:", "", Strawberry_clean1$Data.Item))
```

```{r}
Strawberry_clean1$Data.Item <- as.character(Strawberry_clean1$Data.Item)
strawberry_wide <- Strawberry_clean1 %>%
  pivot_wider(
    names_from = Data.Item,
    values_from = Data.Item,
  )
```



